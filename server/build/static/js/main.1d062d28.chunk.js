(this.webpackJsonplaulapp=this.webpackJsonplaulapp||[]).push([[0],{20:function(e,t){e.exports="data:image/png;base64,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"},21:function(e,t){e.exports="data:image/png;base64,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"},22:function(e,t,a){e.exports=a.p+"static/media/videoDownloadButton.51a24536.png"},26:function(e,t,a){e.exports=a(51)},31:function(e,t,a){},33:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(17),c=a(18),r=a(25),l=a(24),o=a(0),s=a.n(o),i=a(19),u=a.n(i);a(31),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var m=a(6),d=a(1),E=a(4),v=a.n(E),f=a(7),b=a(2),p=(a(33),a(20)),N=a.n(p),A=a(21),O=a.n(A),h=a(22),y=a.n(h),w=a(5),g=a.n(w),k=a(23),j=new(a.n(k).a)({bitRate:128});var S=function(){var e=Object(o.useState)({}),t=Object(b.a)(e,2),a=t[0],n=t[1],c=Object(o.useState)([]),r=Object(b.a)(c,2),l=r[0],i=r[1],u=Object(o.useState)({id:"1234",name:"Monster68"}),E=Object(b.a)(u,2),p=E[0],A=(E[1],Object(o.useState)([])),h=Object(b.a)(A,2),w=h[0],k=h[1],S=Object(o.useState)([]),R=Object(b.a)(S,2),P=R[0],I=R[1],L=Object(o.useState)(null),T=Object(b.a)(L,2),z=T[0],C=T[1],J=Object(o.useState)("recording"),U=Object(b.a)(J,2),B=U[0],X=U[1],H=Object(o.useState)({isRecording:!1,blobURL:"",isBlocked:!1}),Z=Object(b.a)(H,2),G=Z[0],V=Z[1],D=Object(o.useState)({trackName:""}),K=Object(b.a)(D,2),M=K[0],W=K[1],Y=Object(o.useState)(""),x=Object(b.a)(Y,2),Q=x[0],q=x[1],F=Object(o.useState)(""),_=Object(b.a)(F,2),$=_[0],ee=_[1],te=Object(o.useState)({}),ae=Object(b.a)(te,2),ne=ae[0],ce=ae[1],re=Object(o.useState)({}),le=Object(b.a)(re,2),oe=le[0],se=le[1],ie=Object(o.useState)(null),ue=Object(b.a)(ie,2),me=ue[0],de=ue[1],Ee=function(e){return"mp3"!==e.url.split(".")[1]},ve=function(e){return P.filter((function(t){return t.productionId==e}))},fe=function(e){return P.find((function(t){return t.id==e}))},be=function(e){return e.name+(Ee(e)?"-video":"")},pe=function(){var e=Object(f.a)(v.a.mark((function e(){var t,a,n,c,r,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/users");case 2:return t=e.sent,a=t.data,i(a),e.next=7,g.a.get("/api/productions");case 7:return n=e.sent,c=n.data,k(c),e.next=12,g.a.get("/api/tracks");case 12:r=e.sent,l=r.data,I(l);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Ne(e){console.log("------ "+e)}Object(o.useEffect)((function(){navigator.getUserMedia({audio:!0,video:!0},(function(){console.log("Permission Granted"),V(Object(d.a)(Object(d.a)({},G),{},{isBlocked:!1}))}),(function(){console.log("Permission Denied"),V(Object(d.a)(Object(d.a)({},G),{},{isBlocked:!0}))})),pe()}),[]),console.log("USERS:",l,"PRODUCTIONS: ",w,"TRACKS: ",P),console.log("TRACKINFO",M),console.log("PLAY PRODUCTION & TRACK",Q,$),console.log("PLAY AUDIO TRACK LIST",ne);var Ae=function(e,t){de({message:e,type:t}),setTimeout((function(){return de(null)}),2e3)},Oe=function(){q(""),ee(""),C(null),X("recording");var e=document.getElementById("recording");navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(t){return console.log("STREAM",t),e.srcObject=t,n(Object(d.a)(Object(d.a)({},a),{},{href:t})),e.captureStream=e.captureStream||e.mozCaptureStream,new Promise((function(t){return e.onplaying=t}))})).then((function(){return function(e,t){var a=new MediaRecorder(e),n=[];a.ondataavailable=function(e){return n.push(e.data)},a.start(),Ne(a.state+" for "+t/1e3+" seconds...");var c=new Promise((function(e,t){a.onstop=e,a.onerror=function(e){return t(e.name)}}));return Promise.all([c]).then((function(){return n}))}(e.captureStream())})).then((function(e){var t=new Blob(e,{type:"video/webm"});console.log("BLOBBI",t),C(t);var a=document.getElementById("playLocal");a.src=URL.createObjectURL(t),n({download:"RecordedVideo.webm",href:a.src}),Ne("Successfully recorded "+t.size+" bytes of "+t.type+" media.")})).catch(Ne)},he=function(){var e=Object(f.a)(v.a.mark((function e(){var t,a,n,c,r,l,o,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("UPLOADING"),t=w.find((function(e){return e.id==M.productionId})).name+"_"+M.trackName,a=new File([z],t,{lastModified:new Date,type:z.type}),console.log("UUSI FILEE",a),(n=new FormData).append("file",a),e.prev=6,c={url:"/api/files",method:"POST",data:n,headers:{Accept:"application/json","Content-Type":"multipart/form-data"}},e.next=10,g()(c);case 10:return r=e.sent,l=r.data,console.log("NEW FILE",l.data),e.next=15,g.a.post("/api/tracks",{url:l.data.url,userId:p.id,productionId:M.productionId,name:M.trackName});case 15:o=e.sent,s=o.data,console.log("NEW TRACK",s),I(P.concat(s)),Ae("NEW TRACK SAVED TO DATABASE ","success"),W({trackName:""}),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(6),Ae("SAVE NEW TRACK ERROR"+e.t0,"error");case 26:case"end":return e.stop()}}),e,null,[[6,23]])})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=Object(f.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("DELETE SELECTED TRACKS"),Object.keys(oe).filter((function(e){return Boolean(oe[e])})).map((function(e){return fe(e)})).forEach(function(){var e=Object(f.a)(v.a.mark((function e(t){var a,n,c,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.url.split("/"),n="".concat(a[2],"_").concat(a[3]),console.log("DELETE PARAM",n),e.next=5,g.a.delete("".concat("","/api/files/").concat(n));case 5:return c=e.sent,console.log("DELETED FILE: "+t.url,c),e.next=9,g.a.delete("/api/tracks/"+t.id);case 9:r=e.sent,console.log("DELETED TRACK: ",r);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),I(P.filter((function(e){return!Object.keys(oe).includes(e.id)})));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s.a.createElement("div",{className:"container"},s.a.createElement("div",{id:"divider"}),s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("div",{style:{display:"recording"===B?"block":"none"}},s.a.createElement("video",{id:"recording",width:"270",height:"200",autoPlay:!0,muted:!0})),s.a.createElement("div",{style:{display:"playLocal"===B?"block":"none"}},s.a.createElement("video",{id:"playLocal",width:"270",height:"200",controls:!0})),s.a.createElement("div",{style:{display:"playRemote"===B?"block":"none"}},s.a.createElement("video",{id:"playRemote",width:"270",height:"200",autoPlay:!0})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("img",{src:N.a,style:{width:"100%",objectFit:"cover"},alt:"Record",onClick:function(){return Oe()}})),s.a.createElement("div",{className:"col"},s.a.createElement("img",{src:O.a,style:{width:"100%",objectFit:"cover"},alt:"Stop",onClick:function(){return function(){var e=document.getElementById("recording");e.srcObject.getTracks().forEach((function(e){return e.stop()})),X("playLocal")}()}})),s.a.createElement("div",{className:"col"},s.a.createElement("a",{id:"downloadButton",href:a.href,download:a.download},s.a.createElement("img",{src:y.a,style:{width:"100%",objectFit:"cover"},alt:"Download"}),s.a.createElement("p",null,"Download"))))),s.a.createElement("div",{id:"divider"}),s.a.createElement("div",{className:"row"},s.a.createElement("audio",{id:"audioRecorder",src:G.blobURL,controls:"controls"})),s.a.createElement("div",{className:"row"},s.a.createElement("button",{onClick:function(){q(""),document.getElementById("audioRecorder").autoplay=!1,C(null),G.isBlocked?console.log("Permission Denied"):j.start().then((function(){V(Object(d.a)(Object(d.a)({},G),{},{isRecording:!0}))})).catch((function(e){return console.error(e)}))},disabled:G.isRecording,className:"halfButtons",style:{backgroundColor:"red"}},"REC"),s.a.createElement("button",{onClick:function(){j.stop().getMp3().then((function(e){var t=Object(b.a)(e,2),a=(t[0],t[1]);C(a),console.log("AUDIO BLOBBI",a);var n=URL.createObjectURL(a);V(Object(d.a)(Object(d.a)({},G),{},{blobURL:n,isRecording:!1}))})).catch((function(e){return console.log(e)}))},disabled:!G.isRecording,className:"halfButtons"},"STOP")),s.a.createElement("br",null),z&&s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},"SONG"),s.a.createElement("div",{className:"col"},s.a.createElement("select",{value:M.productionId,onChange:function(e){var t=e.target;return W(Object(d.a)(Object(d.a)({},M),{},{productionId:t.value}))}},s.a.createElement("option",null,"valitse"),w.map((function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.name)}))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("span",null,"TRACK NAME")),s.a.createElement("div",{className:"col"},s.a.createElement("input",{id:"trackNameInput",type:"text",value:M.trackName,onChange:function(e){var t=e.target;return W(Object(d.a)(Object(d.a)({},M),{},{trackName:t.value}))}}))),me&&s.a.createElement("div",{className:"row"},s.a.createElement("div",{style:{textAlign:"center",width:"100%",color:"white",backgroundColor:"error"===me.type?"red":"green"}},me.message)),s.a.createElement("div",{className:"row"},s.a.createElement("button",{type:"button",className:"largeButton",onClick:function(){return he()}},"UPLOAD"))),s.a.createElement("div",{id:"divider"}),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("h5",null,"PLAYER"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},"SONGS"),s.a.createElement("div",{className:"col"},s.a.createElement("select",{value:Q,onChange:function(e){var t=e.target;return q(t.value)}},s.a.createElement("option",null,"valitse"),w.map((function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.name)}))))),Q&&ve(Q).length>0&&s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},"VIDEO TRACKS"),s.a.createElement("div",{className:"col"},s.a.createElement("select",{value:$,onChange:function(e){var t=e.target;ee(t.value)}},s.a.createElement("option",null,"choose"),P.filter((function(e){return e.productionId==Q&&Ee(e)})).map((function(e){return s.a.createElement("option",{key:e.id,value:e.id},be(e))}))))),$&&s.a.createElement("div",{className:"row"},s.a.createElement("button",{type:"button",className:"largeButton",onClick:function(){return function(e){C(null);var t=fe(e);if(console.log("PLAYING RECORDING",t),Ee(t)){X("playRemote"),document.getElementById("playRemote").src=""+t.url}else{var a=document.getElementById("audioRecorder");a.src=""+t.url,a.autoplay=!0}}($)}},"PLAY VIDEO"))),Q&&ve(Q).length>0?s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},"AUDIO TRACKS")),s.a.createElement("div",{className:"row"},s.a.createElement("table",null,s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Name"),s.a.createElement("th",null,"Play"),s.a.createElement("th",null,"Delete")),P.filter((function(e){return e.productionId==Q&&!Ee(e)})).map((function(e){return s.a.createElement("tr",{key:e.id},s.a.createElement("td",null,be(e)),s.a.createElement("td",null,s.a.createElement("input",{type:"checkbox",checked:Boolean(ne[e.id]),onChange:function(){return ce(Object(d.a)(Object(d.a)({},ne),{},Object(m.a)({},e.id,!ne[e.id])))}})),s.a.createElement("td",null,s.a.createElement("input",{type:"checkbox",checked:Boolean(oe[e.id]),onChange:function(){return se(Object(d.a)(Object(d.a)({},oe),{},Object(m.a)({},e.id,!oe[e.id])))}})))}))))),s.a.createElement("div",{className:"row"},s.a.createElement("button",{type:"button",className:"halfButtons",onClick:function(){console.log("PLAY SELECTED TRACKS"),Object.keys(ne).filter((function(e){return ne[e]})).map((function(e){return new Audio(""+fe(e).url)})).forEach((function(e,t){console.log("STARTING AUDIO "+(t+1),Date.now()),e.play()}))}},"PLAY"),s.a.createElement("button",{type:"button",className:"halfButtons",onClick:ye},"DELETE"))):s.a.createElement("div",null,"NO TRACKS"))},R=[{name:"Eka kokeilu 2",actions:"delete, submit, pitch, timbre, tempo",status:"Draft",score:"34/100",selectable:!0},{name:"Mun paras veto",actions:"delete, pitch, timbre, tempo",status:"Submitted",score:"64/100",selectable:!1}],P=[{artist:"Ms Sunshine 2",name:"Mun paras",score:"75/100",selectable:!0},{artist:"Set\xe4mies",name:"T\xe4ll\xe4 menn\xe4\xe4n",score:"26/100",selectable:!1},{artist:"Diesel-Altto",name:"Asialliset ala\xe4\xe4net",score:"65/100",selectable:!0},{artist:"Director",name:"Piano track",score:"-",selectable:!0}];function I(){return s.a.createElement("div",{className:"header row"},s.a.createElement("div",{className:"col-10"},"Choose production: Kuulan Rukous - the best track ever"),s.a.createElement("div",{className:"col-2"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},"Logged in: Uuseri")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},"Voice: B2"))))}var L=function(e){return s.a.createElement("div",{className:"listComponent"},s.a.createElement("div",{className:"row listHeader"},s.a.createElement("div",{className:"col"},"Trackname"),s.a.createElement("div",{className:"col"},"Actions"),s.a.createElement("div",{className:"col"},"Status"),s.a.createElement("div",{className:"col"},"Score"),s.a.createElement("div",{className:"col"},"Select for play")),e.tracks.map((function(e){return s.a.createElement(T,e)})))},T=function(e){return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},e.name),s.a.createElement("div",{className:"col"},e.actions),s.a.createElement("div",{className:"col"},e.status),s.a.createElement("div",{className:"col"},e.score),s.a.createElement("div",{className:"col"},e.selectable))},z=function(e){return s.a.createElement("div",{className:"listComponent"},s.a.createElement("div",{className:"row listHeader"},s.a.createElement("div",{className:"col"},"Artist"),s.a.createElement("div",{className:"col"},"Name"),s.a.createElement("div",{className:"col"},"Score"),s.a.createElement("div",{className:"col"},"Select for play")),e.tracks.map((function(e){return s.a.createElement(C,e)})))},C=function(e){return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},e.artist),s.a.createElement("div",{className:"col"},e.name),s.a.createElement("div",{className:"col"},e.score),s.a.createElement("div",{className:"col"},e.selectable))};function J(e){return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-8"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement(L,{tracks:e.state.trackList}),s.a.createElement(z,{tracks:e.state.submittedTrackList})))),s.a.createElement("div",{className:"col-4"},s.a.createElement(S,null)))}function U(){return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},"Copyright 2020 by ",s.a.createElement("b",null,"LaulApp"),". All rights reserved."))}var B=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var c=arguments.length,r=new Array(c),l=0;l<c;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={trackList:R,submittedTrackList:P},e}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement("h2",null,"Laulapp"),s.a.createElement(I,null),s.a.createElement(J,{state:this.state}),s.a.createElement(U,null))}}]),a}(s.a.Component);u.a.render(s.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.1d062d28.chunk.js.map